import{d as e,a,x as l,o as s,c as i,e as t,j as m,D as c,t as n,u as o,B as r,C as u,M as d,Q as v,k as p}from"./chunk-oXvNmGZ5.js";import{u as b}from"./index-1fnLPFxP.js";import{e as f}from"./chunk-NacrwtQ0.js";import"./chunk-q0GJZVPB.js";import"./chunk-cv82_oyN.js";const g={id:"contact",class:"contact-section"},y={class:"container"},h={class:"row justify-content-center"},k={class:"col-lg-8"},x={class:"section-title text-center mb-5"},w=m("span",{class:"title-accent"},null,-1),M={class:"modal-dialog modal-dialog-centered"},_={class:"modal-content"},j={class:"modal-body text-center p-5"},R=m("div",{class:"success-icon mb-4"},[m("i",{class:"bi bi-check-circle-fill"})],-1),z={class:"modal-title mb-3"},B={class:"text-muted mb-4"},P={type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},U={class:"form-group mb-4"},V={for:"name",class:"form-label"},q=m("i",{class:"bi bi-person me-2"},null,-1),S={class:"input-wrapper"},C=["placeholder"],I={key:0,class:"invalid-feedback"},D=m("i",{class:"bi bi-exclamation-circle me-1"},null,-1),E={class:"form-group mb-4"},F={for:"email",class:"form-label"},K=m("i",{class:"bi bi-envelope me-2"},null,-1),L={class:"input-wrapper"},Q=["placeholder"],T={key:0,class:"invalid-feedback"},Y=m("i",{class:"bi bi-exclamation-circle me-1"},null,-1),$={class:"form-group mb-4"},A={for:"company",class:"form-label"},G=m("i",{class:"bi bi-building me-2"},null,-1),H={class:"input-wrapper"},J=["placeholder"],N={class:"form-group mb-4"},O={for:"message",class:"form-label"},W=m("i",{class:"bi bi-chat-left-text me-2"},null,-1),X={class:"input-wrapper"},Z=["placeholder"],ee={key:0,class:"invalid-feedback"},ae=m("i",{class:"bi bi-exclamation-circle me-1"},null,-1),le={class:"form-actions text-center"},se=["disabled"],ie={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},te={key:1,class:"bi bi-send me-2"},me=e({__name:"ContactForm",setup(e){const{t:me}=b(),ce=a({name:"",email:"",company:"",message:""}),ne=a({submitted:!1,success:!1,error:!1}),oe=a(!1),re=a(null),ue=a({name:!1,email:!1,message:!1}),de=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,ve=l((()=>ce.value.name.trim()&&ce.value.email.trim()&&de.test(ce.value.email)&&ce.value.message.trim())),pe=l((()=>oe.value||!ve.value)),be=l((()=>{const e={name:"",email:"",message:""};return ue.value.name&&!ce.value.name.trim()&&(e.name=me("contact.validation.nameRequired")),ue.value.email&&(ce.value.email.trim()?de.test(ce.value.email)||(e.email=me("contact.validation.emailInvalid")):e.email=me("contact.validation.emailRequired")),ue.value.message&&!ce.value.message.trim()&&(e.message=me("contact.validation.messageRequired")),e})),fe=e=>{ue.value[e]=!0},ge=async()=>{if((()=>{let e=!0;const a={name:!1,email:!1,message:!1};return ce.value.name.trim()||(a.name=!0,e=!1),ce.value.email.trim()&&de.test(ce.value.email)||(a.email=!0,e=!1),ce.value.message.trim()||(a.message=!0,e=!1),ue.value=a,e})()){oe.value=!0,ne.value.submitted=!1,ne.value.success=!1,ne.value.error=!1;try{await f.send("zulfikar_isnaen","zulfikar_isnaen_template",{from_name:ce.value.name,from_email:ce.value.email,from_company:ce.value.company,message:ce.value.message}),ne.value.success=!0,ce.value={name:"",email:"",company:"",message:""},ue.value={name:!1,email:!1,message:!1},(()=>{if(re.value){const e=re.value,a=window.bootstrap;if(a&&a.Modal){let l=a.Modal.getInstance(e);l||(l=new a.Modal(e)),l.show()}}})()}catch(e){ne.value.error=!0,console.error("Error sending email:",e)}finally{oe.value=!1,ne.value.submitted=!0}}};return s((()=>{f.init({publicKey:"15l2Y27lgjSvwSnbk",limitRate:{id:"zulfikar-web",throttle:5e3}})})),(e,a)=>(i(),t("section",g,[m("div",y,[m("div",h,[m("div",k,[m("h2",x,[w,c(" "+n(o(me)("contact.title")),1)]),m("div",{class:"modal fade",id:"successModal",tabindex:"-1","aria-labelledby":"successModalLabel","aria-hidden":"true",ref_key:"successModalRef",ref:re},[m("div",M,[m("div",_,[m("div",j,[R,m("h3",z,n(o(me)("contact.successTitle")),1),m("p",B,n(o(me)("contact.successMessage")),1),m("button",P,n(o(me)("contact.close")),1)])])])],512),m("form",{onSubmit:r(ge,["prevent"]),class:u(["contact-form",{"form-submitted":ne.value.submitted}])},[m("div",U,[m("label",V,[q,c(" "+n(o(me)("contact.name")),1)]),m("div",S,[d(m("input",{type:"text",class:u(["form-control",{"is-invalid":be.value.name,"is-valid":ce.value.name&&!be.value.name}]),id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>ce.value.name=e),onBlur:a[1]||(a[1]=e=>fe("name")),placeholder:o(me)("contact.namePlaceholder"),autocomplete:"name"},null,42,C),[[v,ce.value.name,void 0,{trim:!0}]]),be.value.name?(i(),t("div",I,[D,c(" "+n(be.value.name),1)])):p("",!0)])]),m("div",E,[m("label",F,[K,c(" "+n(o(me)("contact.email")),1)]),m("div",L,[d(m("input",{type:"email",class:u(["form-control",{"is-invalid":be.value.email,"is-valid":ce.value.email&&!be.value.email}]),id:"email","onUpdate:modelValue":a[2]||(a[2]=e=>ce.value.email=e),onBlur:a[3]||(a[3]=e=>fe("email")),placeholder:o(me)("contact.emailPlaceholder"),autocomplete:"email"},null,42,Q),[[v,ce.value.email,void 0,{trim:!0}]]),be.value.email?(i(),t("div",T,[Y,c(" "+n(be.value.email),1)])):p("",!0)])]),m("div",$,[m("label",A,[G,c(" "+n(o(me)("contact.company")),1)]),m("div",H,[d(m("input",{type:"text",class:"form-control",id:"company","onUpdate:modelValue":a[4]||(a[4]=e=>ce.value.company=e),placeholder:o(me)("contact.companyPlaceholder"),autocomplete:"organization"},null,8,J),[[v,ce.value.company,void 0,{trim:!0}]])])]),m("div",N,[m("label",O,[W,c(" "+n(o(me)("contact.message")),1)]),m("div",X,[d(m("textarea",{class:u(["form-control",{"is-invalid":be.value.message,"is-valid":ce.value.message&&!be.value.message}]),id:"message",rows:"6","onUpdate:modelValue":a[5]||(a[5]=e=>ce.value.message=e),onBlur:a[6]||(a[6]=e=>fe("message")),placeholder:o(me)("contact.messagePlaceholder")},null,42,Z),[[v,ce.value.message,void 0,{trim:!0}]]),be.value.message?(i(),t("div",ee,[ae,c(" "+n(be.value.message),1)])):p("",!0)])]),m("div",le,[m("button",{type:"submit",class:"btn btn-primary btn-lg px-5",disabled:pe.value},[oe.value?(i(),t("span",ie)):(i(),t("i",te)),c(" "+n(oe.value?o(me)("contact.sending"):o(me)("contact.sendMessage")),1)],8,se)])],34)])])])]))}});export{me as default};
